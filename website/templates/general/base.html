<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta
        name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <title>{% block title %}{% endblock %}</title>
    <style>
        [x-cloak] {
            display: none !important;
        }

        @keyframes shake {
            0% {
                transform: rotate(0deg);
            }
            25% {
                transform: rotate(-6deg);
            }
            50% {
                transform: rotate(6deg);
            }
            75% {
                transform: rotate(-6deg);
            }
            100% {
                transform: rotate(0deg);
            }
        }

        .shake-on-hover:hover {
            animation: shake 0.8s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900">
<main class="flex flex-col min-h-screen">
    <nav
        class="w-full shadow bg-white dark:border dark:bg-gray-800 dark:border-gray-700"
        x-data="{ mobileMenuOpen: false }"
    >
        <div class="mx-auto max-w-7xl px-2 sm:px-6 lg:px-8">
            <div class="relative flex h-16 items-center justify-between">
                <div
                    class="absolute inset-y-0 left-0 flex items-center sm:hidden"
                >
                    <button
                        @click="mobileMenuOpen = !mobileMenuOpen"
                        :aria-expanded="mobileMenuOpen"
                        type="button"
                        class="relative inline-flex items-center justify-center rounded-md p-2 text-gray-800 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-black dark:hover:text-white focus:ring-2 focus:ring-black dark:focus:ring-white focus:outline-hidden focus:ring-inset"
                        aria-controls="mobile-menu"
                    >
                        <span class="absolute -inset-0.5"></span>
                        <span class="sr-only">Open main menu</span>
                        <svg
                            class="block h-8 w-8"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke-width="1.5"
                            stroke="currentColor"
                            aria-hidden="true"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
                            />
                        </svg>
                        <svg
                            class="hidden h-6 w-6"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke-width="1.5"
                            stroke="currentColor"
                            aria-hidden="true"
                            x-show="mobileMenuOpen"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                d="M6 18L18 6M6 6l12 12"
                            />
                        </svg>
                    </button>
                </div>
                <div
                    class="flex flex-1 items-center justify-center sm:items-stretch sm:justify-start"
                >
                    <div class="hidden sm:block">
                        <div class="flex space-x-4">
                            <a
                                href="/"
                                class="rounded-md bg-gray-800 px-3 py-2 text-sm font-medium text-white dark:bg-gray-900 transition-all duration-200 ease-in-out"
                                aria-current="page"
                            >Home</a
                            >
                            {% if not current_user.is_authenticated %}
                            <a
                                href="/contact-me"
                                class="rounded-md px-3 py-2 text-gray-800 text-sm font-medium hover:bg-gray-800 hover:text-white dark:text-gray-300 dark:hover:bg-gray-900 dark:hover:text-white transition-all duration-200 ease-in-out"
                            >
                                Contact Me
                            </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% if current_user.is_authenticated %}
                <div
                    class="absolute inset-y-0 right-0 flex items-center sm:static"
                >
                    <div class="relative" x-data="{ profileMenuOpen: false }">
                        <div>
                            <button
                                @click="profileMenuOpen = !profileMenuOpen"
                                type="button"
                                class="relative flex rounded-full bg-gray-800 text-sm focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800 focus:outline-none"
                                id="user-menu-button"
                                :aria-expanded="profileMenuOpen.toString()"
                                aria-haspopup="true"
                            >
                                <span class="absolute -inset-1.5"></span>
                                <span class="sr-only">Open user menu</span>
                                <img
                                    class="h-12 w-12 rounded-full object-cover"
                                    src="data:image/png;base64,{{ avatar_data }}"
                                    alt="avatar"
                                />
                            </button>
                        </div>
                        <div
                            class="absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-gray-800 py-1 ring-1 ring-black/5 focus:outline-none dark:bg-white"
                            x-show="profileMenuOpen"
                            x-cloak
                            x-transition:enter="transition ease-out duration-200"
                            x-transition:enter-start="opacity-0 scale-95"
                            x-transition:enter-end="opacity-100 scale-100"
                            x-transition:leave="transition ease-in duration-150"
                            x-transition:leave-start="opacity-100 scale-100"
                            x-transition:leave-end="opacity-0 scale-95"
                            @click.away="profileMenuOpen = false"
                            role="menu"
                            aria-orientation="vertical"
                            aria-labelledby="user-menu-button"
                        >
                            <a
                                href="/admin/dashboard/"
                                class="block px-4 py-2 text-sm text-white dark:text-gray-700"
                                role="menuitem"
                            >Dashboard</a
                            >
                            <a
                                href="/auth/logout/"
                                class="block px-4 py-2 text-sm text-white dark:text-gray-700"
                                role="menuitem"
                            >Log Out</a>
                        </div>
                    </div>
                </div>
                {% else %}
                <h3 class="text-2xl shake-on-hover">ðŸ‘‹</h3>
                {% endif %}
            </div>
        </div>
        <div
            id="mobile-menu"
            x-show="mobileMenuOpen"
            x-cloak
            x-transition:enter="transition-all ease-in-out duration-500"
            x-transition:enter-start="max-h-0"
            x-transition:enter-end="max-h-screen"
            x-transition:leave="transition-all ease-in-out duration-500"
            x-transition:leave-start="max-h-screen"
            x-transition:leave-end="max-h-0"
            class="sm:hidden overflow-hidden bg-white dark:bg-gray-800"
        >
            <div class="space-y-1 px-2 pt-2 pb-3">
                <a
                    href="/"
                    class="block rounded-md bg-gray-800 px-3 py-2 text-base font-medium text-white dark:bg-gray-900"
                    aria-current="page"
                >Home</a
                >
                {% if not current_user.is_authenticated %}
                <a
                    href="/contact-me"
                    class="block rounded-md px-3 py-2 text-base font-medium text-gray-800 hover:bg-gray-800 hover:text-white dark:hover:bg-gray-900 dark:text-gray-300 dark:hover:text-white transition-all duration-200 ease-in-out"
                >Contact Me</a
                >
                {% endif %}
            </div>
        </div>
    </nav>
    {% block content %}{% endblock %}
</main>
<script
    src=" https://cdn.jsdelivr.net/npm/alpinejs@3.14.8/dist/cdn.min.js "
></script>
</body>
</html>
